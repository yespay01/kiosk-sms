// Firebase Functions를 통한 알림톡 발송
        async function sendSolapi(ticketData, notificationType = 'issue') {
            try {
                console.log('🚀 Firebase Functions 알림톡 발송 시도:', {
                    number: ticketData.number,
                    course: ticketData.course,
                    phone: ticketData.phoneNumber,
                    type: notificationType
                });

                const estimatedTime = Math.max(5, (ticketData.waitingCount || 0) * 5);
                
                // Firebase Functions 호출 데이터
                const functionData = {
                    phoneNumber: ticketData.phoneNumber,
                    ticketNumber: ticketData.number,
                    courseName: ticketData.course,
                    waitingCount: ticketData.waitingCount || 0,
                    estimatedTime: estimatedTime,
                    notificationType: notificationType
                };

                // 호출 알림의 경우 추가 데이터
                if (notificationType === 'call') {
                    functionData.counterNumber = ticketData.counterNumber || '';
                }

                console.log('📱 Firebase Functions 호출 데이터:', functionData);
                
                // Firebase Functions 호출
                const response = await fetch('https://asia-northeast1-alimtalk-waiting-ticket.cloudfunctions.net/sendAlimtalk', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(functionData)
                });
                
                const result = await response.json();
                
                console.log('📨 Firebase Functions 응답:', result);
                
                if (response.ok && result.success) {
                    console.log('✅ 알림톡 발송 성공:', result);
                    return { success: true, ...result };
                } else {
                    console.error('❌ 알림톡 발송 실패:', result);
                    return { 
                        success: false, 
                        error: result.error || 'Unknown error',
                        statusCode: response.status,
                        responseData: result
                    };
                }
                
            } catch (error) {
                console.error('❌ Firebase Functions 호출 오류:', error);
                return { success: false, error: error.message };
            }
        }
